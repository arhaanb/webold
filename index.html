<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./assets/skeleton.css">
	<link rel="stylesheet" href="./assets/style.css">
	<title>Arhaan Bahadur</title>
	<meta name="author" content="Arhaan Bahadur" />
	<meta name="description" content="Arhaan Bahadur is a 17 year old designer and developer." />
	<meta name="keywords" content="Arhaan Bahadur MINET MIS" />
	<meta name="theme-color" content="#f14141" />
	<link rel="icon" href="./assets/img/arhaanb-min.jpg" type="image/png" sizes="16x16">

	<!-- SEO Stuff -->
	<meta name="description" content="Arhaan Bahadur is a 17 year old designer and developer." />
	<meta name="twitter:card" content="Arhaan Bahadur" />
	<meta name="twitter:site" content="@arhaan_bahadur" />
	<meta name="twitter:title" content="Arhaan Bahadur" />
	<meta name="twitter:description" content="Arhaan Bahadur is a 17 year old designer and developer." />
	<meta property="og:title" content="Arhaan Bahadur" />
	<meta property="og:url" content="https://arhaanb.co" />
	<meta property="og:description" content="Arhaan Bahadur is a 17 year old designer and developer." />
	<meta property="og:site_name" content="Arhaan Bahadur" />
	<meta property="og:image" content="https://arhaanb.co/img/arhaanb-min.jpg" />
	<meta property="og:image:type" content="image/jpeg" />
	<meta property="og:image:width" content="512" />
	<meta property="og:image:height" content="512" />
	<meta name="twitter:image" content="https://arhaanb.co/img/arhaanb-min.jpg" />
	<meta name="googlebot" content="noindex, nofollow">
	<meta name="bingbot" content="noindex, nofollow">
	<meta name="slurp" content="noindex, nofollow">
	<meta name="duckduckbot" content="noindex, nofollow">
	<meta name="baiduspider" content="noindex, nofollow">
	<meta name="yandexbot" content="noindex, nofollow">
	<meta name="naver" content="noindex, nofollow">
	<meta name="facebookexternalhit" content="index, follow">
	<meta name="twitterbot" content="index, follow">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-154909361-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-154909361-1');
	</script>

</head>

<body>

	<div class="container">
		<div class="flex-con">
			<div class="seven columns">
				<p class="yoz">
					<img src="./assets/img/arhaanb-min.jpg" loading="lazy" alt="Arhaan" class="arhaan" draggable="false">
				</p>
				<h1 class="title">Arhaan Bahadur</h1>
				<div class="info">
					<p>
						Hi, I'm a 17 year old designer and developer. I study at <span class="med">The Mother's International
							School</span> and I'm the President of my school's technology and entrepreneurship club <a
							href="//minet.co" class="link" target="_blank" rel="noreferrer">MINET</a>.
					</p>
					<!-- <p>
						This website is <span class="med">under construction</span>. More coming soon.
					</p> -->
				</div>

				<!-- Spotify Now Playing -->
				<div class="row">
					<div class="flex-center">
						<div class="eight columns">
							<div class="spotify">
								<a href="//open.spotify.com/user/arhaanb" class="logolink" rel="noreferrer" target="_blank">
									<img src="./assets/img/spotify.svg" alt="" id="logo">
								</a>
								<img id="albumart" src="./assets/img/default.jpg" alt="">
								<div class="songinfo">
									<a href="#" id="songlink">
										<h5 class="med" id="songname">Not Playing</h5>
									</a>
									<h5 id="album"></h5>
								</div>
							</div>
						</div>
					</div>
				</div>


			</div>

			<div class="u-cf"></div>

			<footer>
				<div class="socials">
					<a onclick="darkMode()" class="darkbtn">
						<span id="moon">ðŸŒ™</span>
						<span id="sun" class="no">ðŸ”†</span>
					</a>
					<a href="//github.com/arhaanb" class="link" rel="noreferrer" target="_blank">GitHub</a>
					<a href="//instagram.com/arhaan_bahadur" rel="noreferrer" class="link" target="_blank">Instagram</a>
					<a href="//twitter.com/arhaan_bahadur" class="link" rel="noreferrer" target="_blank">Twitter</a>
					<a href="//open.spotify.com/user/arhaanb" class="link" rel="noreferrer" target="_blank">Spotify</a>
				</div>
			</footer>
		</div>
	</div>

	<script>
		function darkMode() {
			var element = document.body;
			var sun = document.getElementById('sun')
			var moon = document.getElementById('moon')
			element.classList.toggle("dark-mode");
			sun.classList.toggle("no");
			moon.classList.toggle("no");
		}

		var HttpClient = function () {
			this.get = function (aUrl, aCallback) {
				var anHttpRequest = new XMLHttpRequest();
				anHttpRequest.onreadystatechange = function () {
					if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)
						aCallback(anHttpRequest.responseText);
				}

				anHttpRequest.open("GET", aUrl, true);
				anHttpRequest.send(null);
			}
		}

		var songTitle = document.getElementById('songname')
		var album = document.getElementById('album')
		var songlink = document.getElementById('songlink')
		var albumArt = document.getElementById('albumart')

		function getSong() {
			var client = new HttpClient();
			//for development (TODO: Set up `vercel dev`)
			//client.get('https://cors-anywhere.herokuapp.com/https://arhaanb.co/api/spotify', function (response) {
			client.get('/api/spotify', function (response) {
				var song = JSON.parse(response);
				//console.log(song)
				if (song.isPlaying === true) {
					songTitle.innerText = song.title
					album.innerText = song.artist
					songlink.setAttribute("href", song.songUrl)
					songlink.setAttribute("target", "_blank")
					albumArt.setAttribute("src", song.albumImageUrl)
				} else {
					songTitle.innerText = 'Not Playing'
					album.innerText = ''
					songlink.setAttribute("href", "#")
					songlink.setAttribute("target", "_self")
					albumArt.setAttribute("src", './assets/img/default.jpg')
				}
			});
		}

		setInterval(function () {
			getSong()
		}, 30000)

		getSong()
	</script>

</body>

</html>